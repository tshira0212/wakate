# 2Qテーマ
- マイクロサービスアーキテクチャと、それに関連するコンテナ技術の学習

## 学んだこと概要
- AWSの各種コンテナ関連サービス
  - ECR
  - ECS
    - FargateとEC2
    - サービス検出を用いた名前解決とサービス間疎通
  - CloudFormationとALBを用いたサービス構築および公開
  - EKS
- マイクロサービスアーキテクチャについて
  - 単一コンテナによるサービスのマイクロサービスアーキテクチャ分割　(チュートリアル)

## 各種サービスについて
### ECR
- Elastic Container Repository
  - コンテナ向けのgitのようなもの。コンテナをバージョン管理したり、ここからECS等のAWSの別サービスに直接デプロイができる
  - Githubと連携して自動的にECRにプッシュする方法も試してみた

### ECS
- Elastic Container Service
  - コンテナをサービスとして稼働できるマネージドサービス
  - Fargateを利用する方法と、EC2で管理する方法と2種類
- EC2管理方式
  - あらかじめ立てておいたEC2にデプロイする方式
  - サーバー上で細かいチューニングは可能だが、EC2自体の管理が必要
- AWS Fargate
  - ホストするマシンを意識せず、いわゆるサーバレスでコンテナを稼働できる方式
  - sshやdocker exec等は使えないが、ホストマシンの管理が不要でオートスケーリングにも対応している
- サービス検出
  - 本来、ECSで立てたサービスへの疎通はALB等を経由するのが一般的だった
    - ALBの管理が必要
  - これを、Root53によるDNSによりアクセス可能とする仕組みがサービスディスカバリ(サービス検出)
    - これによって、ALB管理が不要となる
### Cloud Formation とALB
- 各種AWSサービスをコードによるモデル化を行うことで構築可能となる仕組み
  - 後述するマイクロサービス分割のチュートリアルで利用
- 合わせて、ALBによる外部サービス公開手法も実行
  - とにかく経路がいろいろあってややこしい・・・

### EKS
- Elastic Kubernetes Service
  - マネージドなKubernetesのサービス
  - 詳しくは2Q中間発表資料を参照

### マイクロサービスアーキテクチャの分割
- 1つのコンテナ内で実装された3つのAPIを、3つのコンテナに分割し別サービスとして切り出しALBの別ターゲットグループとして稼働させることでマイクロサービスとしての分割を実現


## 3Qテーマ
- フロントエンド層、バックエンド層のマイクロサービス構築
- フロントエンド層
  - マイクロサービス分割したバックエンド(API)との実際の疎通構築
- バックエンド層
  - DBレイヤのマイクロサービス分割